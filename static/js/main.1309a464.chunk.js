(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(18)},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(8),c=n(1),r=n(0),i=n.n(r),o=n(5),s=n.n(o),l=i.a.createContext(),u=(n(17),n(2)),d=function(){var e=Object(r.useState)([window.innerWidth,window.innerHeight]),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)(function(){var e=function(e){a([window.innerWidth,window.innerHeight])};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),n},m=function(e){var t=d(),n=Object(c.a)(t,2),a=n[0],i=n[1],o=a/2,s=i/2,l=a/2,u=i/2,m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0],t=Object(r.useState)(e),n=Object(c.a)(t,2),a=n[0],i=n[1];return Object(r.useEffect)(function(){var e=function(e){return i([e.clientX,e.clientY])};return window.addEventListener("mousemove",e,!1),function(){return window.removeEventListener("mousemove",e,!1)}},[]),a}([o,s]),p=Object(c.a)(m,2),v=p[0]-o,g=p[1]-s;return{position:[v,g],total:[l,u],scale:[Math.min(v/l,1),Math.min(g/u,1)]}},p=function(e,t){if(!e||!e.i18n)return e;var n=Object(r.useContext)(t),a=e.i18n[n.toUpperCase()];return Object(u.a)({},e,a)},v=function(){var e=Object(r.useState)(window.location.hash.slice(1)),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)(function(){var e=function(){return a(window.location.hash.slice(1))};return window.addEventListener("hashchange",e),function(){return window.removeEventListener("hashchange",e)}},[]),n},g=function(e){var t=e.data,n=e.styles,a=p(t,l),c=a.name,r=a.image,o=a.imageStyle,s=a.background;return i.a.createElement("div",{className:"card"},i.a.createElement("div",{style:Object(u.a)({},n.background,{backgroundImage:"url(".concat(s,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}),className:"card__bg"}),i.a.createElement("img",{style:Object(u.a)({},n.image,o),className:"card__img",src:r,alt:c,title:c}),i.a.createElement("div",{className:"card__text"},i.a.createElement("p",{className:"card__title"},c)))},f=function(e){var t=e.data,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=Object(c.a)(m().scale,2),n=t[0]*e,a=-t[1]*e;return{frame:{transform:"rotateX(".concat(a,"deg) rotateY(").concat(n,"deg)")},image:{transform:"translateX(".concat(1.5*-n,"px) translateY(").concat(1.5*a,"px)")},background:{backgroundPosition:"".concat(2.5*-n,"px ").concat(2.5*a,"px")}}}(20),a=d(),o=Object(c.a)(a,1)[0],s=p(t,l),u=s.type,v=s.title,f=s.list,w=s.tips;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(r.useEffect)(function(){document.title=e},[e])}(u+": "+v),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"cards",style:n.frame},i.a.createElement("h3",null,u),i.a.createElement("h1",null,v),f.map(function(e){return i.a.createElement(g,{key:e.name,data:e,styles:n})})),i.a.createElement("span",{className:"notice"},w,": ",o))},w=n(6),h=n(7),b=n(10),E=n(9),y=n(3);function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(y.a)(e);if(t){var c=Object(y.a)(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return Object(E.a)(this,n)}}var k=function(e){Object(b.a)(n,e);var t=j(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={windowWidth:window.innerWidth,x:0,y:0,range:20},e.handleWindowResize=function(){e.setState({windowWidth:window.innerWidth})},e.handleMouseMove=function(t){var n=window.innerWidth,a=window.innerHeight,c=n/2,r=a/2,i=n/2,o=a/2,s=t.clientX-c,l=t.clientY-r,u=Math.min(s/i,1)*e.state.range,d=-Math.min(l/o,1)*e.state.range;e.setState({x:u,y:d})},e}return Object(h.a)(n,[{key:"updateTitle",value:function(){var e=this.props.data,t="cn"===this.context?e.i18n.CN.type:e.type,n="cn"===this.context?e.i18n.CN.title:e.title;document.title=t+": "+n}},{key:"componentDidMount",value:function(){this.updateTitle(),window.addEventListener("resize",this.handleWindowResize),window.addEventListener("mousemove",this.handleMouseMove)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("mousemove",this.handleMouseMove)}},{key:"componentDidUpdate",value:function(){this.updateTitle()}},{key:"render",value:function(){var e=this,t=this.props.data,n="cn"===this.context?t.i18n.CN.type:t.type,a="cn"===this.context?t.i18n.CN.title:t.title,c="cn"===this.context?t.i18n.CN.tips:t.tips,r=t.list,o=this.state,s=o.x,l=o.y,u={transform:"rotateX(".concat(l,"deg) rotateY(").concat(s,"deg)")},d={transform:"translateX(".concat(1.5*-s,"px) translateY(").concat(1.5*l,"px)")},m={backgroundPosition:"".concat(2.5*-s,"px ").concat(2.5*l,"px")};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"cards",style:u},i.a.createElement("h3",null,n),i.a.createElement("h1",null,a),r.map(function(t){return i.a.createElement(O,{key:t.name,data:t,i18n:e.context,styles:{image:d,background:m}})})),i.a.createElement("span",{className:"notice"},c,": ",this.state.windowWidth))}}]),n}(i.a.Component);k.contextType=l;var O=function(e){var t=e.data,n=e.i18n,a=e.styles,c="cn"===n?t.i18n.CN.name:t.name,r=t.image,o=t.imageStyle,s=t.background;return i.a.createElement("div",{className:"card"},i.a.createElement("div",{style:Object(u.a)({},a.background,{backgroundImage:"url(".concat(s,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}),className:"card__bg"}),i.a.createElement("img",{className:"card__img",style:Object(u.a)({},o,a.image),src:r,alt:c,title:c}),i.a.createElement("div",{className:"card__text"},i.a.createElement("p",{className:"card__title"},c)))};var N=function(e){var t=e.data,n=e.i18n,a=e.styles,c="cn"===n?t.i18n.CN.name:t.name,r=t.image,o=t.imageStyle,s=t.background;return i.a.createElement("div",{className:"card"},i.a.createElement("div",{style:Object(u.a)({},a.background,{backgroundImage:"url(".concat(s,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}),className:"card__bg"}),i.a.createElement("img",{className:"card__img",style:Object(u.a)({},o,a.image),src:r,alt:c,title:c}),i.a.createElement("div",{className:"card__text"},i.a.createElement("p",{className:"card__title"},c)))},_={class:k,hook:function(e){var t=e.data,n=Object(r.useContext)(l),a="cn"===n?t.i18n.CN.type:t.type,o="cn"===n?t.i18n.CN.title:t.title,s="cn"===n?t.i18n.CN.tips:t.tips,u=t.list,d=Object(r.useState)(window.innerWidth),m=Object(c.a)(d,2),p=m[0],v=m[1],g=Object(r.useState)([0,0]),f=Object(c.a)(g,2),w=Object(c.a)(f[0],2),h=w[0],b=w[1],E=f[1];Object(r.useEffect)(function(){var e=function(){return v(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),Object(r.useEffect)(function(){var e=function(e){var t=window.innerWidth,n=window.innerHeight,a=t/2,c=n/2,r=t/2,i=n/2,o=e.clientX-a,s=e.clientY-c,l=20*Math.min(o/r,1),u=20*-Math.min(s/i,1);E([l,u])};return window.addEventListener("mousemove",e),function(){return window.removeEventListener("mousemove",e)}},[20]),Object(r.useEffect)(function(){document.title=a+": "+o});var y={transform:"rotateX(".concat(b,"deg) rotateY(").concat(h,"deg)")},j={transform:"translateX(".concat(1.5*-h,"px) translateY(").concat(1.5*b,"px)")},k={backgroundPosition:"".concat(2.5*-h,"px ").concat(2.5*b,"px")};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"cards",style:y},i.a.createElement("h3",null,a),i.a.createElement("h1",null,o),u.map(function(e){return i.a.createElement(N,{key:e.name,data:e,i18n:n,styles:{image:j,background:k}})})),i.a.createElement("span",{className:"notice"},s,": ",p))},custom:f},x=function(e){var t=e.data,n=v(),o=_[n]||f,s=function(e,t){var n=Object(r.useState)(e),a=Object(c.a)(n,2),i=a[0],o=a[1];return[i,function(){return i===e?o(t):i===t?o(e):void 0}]}.apply(void 0,Object(a.a)(t.locales)),u=Object(c.a)(s,2),d=u[0],m=u[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(l.Provider,{value:d},i.a.createElement(z,null),i.a.createElement(C,{data:t,toggle:m}),i.a.createElement(o,{data:t})))},C=function(e){var t=e.data,n=e.toggle,a=p(t,l).locale;return i.a.createElement("div",{className:"twitter__link",onClick:n},a)},z=function(){var e=v()||"custom";return i.a.createElement("div",{className:"menu-wrapper"},Object.keys(_).map(function(t){var n=e===t?"menu__link active":"menu__link";return i.a.createElement("a",{className:n,href:"#".concat(t),key:t},t)}))};s.a.render(i.a.createElement(x,{data:{locales:["en","cn"],type:"Movies",title:"Miyazaki Hayao",locale:"USA",tips:"view on desktop for mousemove",i18n:{CN:{title:"\u5bab\u5d0e\u9a8f",type:"\u7535\u5f71",tips:"\u5728\u684c\u9762\u7535\u8111\u4e0a\u79fb\u52a8\u9f20\u6807\u67e5\u770b",locale:"\u4e2d\u56fd"}},list:[{name:"Princess Mononoke",i18n:{CN:{name:"\u5e7d\u7075\u516c\u4e3b"}},image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/62105/3dr_mono.png",imageStyle:{top:14,right:-10,height:"110%"},background:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/62105/3dr_monobg.jpg"},{name:"Spirited Away",i18n:{CN:{name:"\u5343\u4e0e\u5343\u5bfb"}},image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/62105/3dr_chihiro.png",imageStyle:{top:25},background:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/62105/3dr_spirited.jpg"},{name:"Howl's Moving Castle",i18n:{CN:{name:"\u54c8\u5c14\u7684\u79fb\u52a8\u57ce\u5821"}},image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/62105/3dr_howlcastle.png",imageStyle:{top:5,right:-4,height:"110%"},background:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/62105/3dr_howlbg.jpg"}]}}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.1309a464.chunk.js.map